{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["jQuery(document).ready(function ($) {\n    window.App = window.App || {};\n    App.winLocHash       = window.location.hash;\n    App.$body            = $('body');\n\n    \t// opening popups\n        App.$body.on('click touch', '.open-dialog, .open-popup, .open-form, .open-modal', function (event) {\n            console.log(event)\n            event.preventDefault();\n            const category = $(this).attr('href');\n            const $dialogs = $('.dialogs');\n            const $categoryDialogs = $dialogs.find(category);\n            const $flexPopup = $dialogs.find('.flex-popup');\n            const popupCategory = category.slice(1);\n    \n            if (popupCategory !== 'policy') {\n                localStorage.setItem('popup', popupCategory);\n            }\n    \n            if (popupCategory === 'list') {\n                App.$body.css({ 'overflow-y': 'hidden' });\n                $dialogs.css({ 'overflow-y': 'hidden' });\n            }\n    \n            $dialogs.find('.popup').removeClass('active').hide();\n    \n            if (!$categoryDialogs.length) {\n                console.log(`Попап с ID ${category} не найден.`);\n                return false;\n            }\n    \n            $dialogs.find('.popup').removeClass('active').hide();\n            $categoryDialogs.show();\n            $dialogs.show();\n    \n            $flexPopup.addClass('popup--' + popupCategory);\n            $dialogs.animate({ opacity: 1 }, 300, () => {\n                $categoryDialogs.addClass('active');\n                App.$body.css({ 'overflow-y': 'hidden' });\n            });\n    \n            pauseOtherVideos('.video-box');\n    \n            return false;\n        });\n    \n        // closing popups\n        $('.dialogs').on('click touch', '.close, .close-bg', function () {\n            const $dialogs = $('.dialogs');\n            const $flexPopup = $dialogs.find('.flex-popup');\n            const $activePopup = $dialogs.find('.popup.active');\n            const popupId = $activePopup.attr('id');\n    \n            const bodyScroll = () => {\n                App.$body.css({ 'overflow-y': 'auto' });\n            };\n    \n            const removeClassPopup = () => {\n                $flexPopup.removeClass(function (index, className) {\n                    return (className.match(/popup--\\S+/g) || []).join(' ');\n                });\n            };\n    \n            const $popupActive = $flexPopup.find('.popup.active');\n    \n            if (popupId === 'cart') { // Корзина\n                $popupActive.animate({ right: '-100%', opacity: 0 }, 600, function () {\n                    $dialogs.animate({ opacity: 0 }, 300, function () {\n                        $dialogs.find('.popup').removeClass('active').hide();\n                        $popupActive.removeAttr('style');\n                        $dialogs.hide();\n                        $dialogs.find('.thanks-popup').hide();\n                        removeClassPopup();\n                    });\n                    bodyScroll();\n                });\n    \n            } else if (popupId === 'policy') { // Политика конфиденциальности\n    \n                $popupActive.removeClass('active').hide();\n    \n                let popupCategory = localStorage.getItem('popup');\n    \n                // Открываем popup с соответствующим ID\n                const $popupToOpen = $('.dialogs #' + popupCategory);\n                if ($popupToOpen.length) {\n                    $popupToOpen.addClass('active').show();\n                    $dialogs.show();\n                } else {\n                    console.log('Попап с ID ' + popupCategory + ' не найден.');\n                }\n    \n            } else if (popupId === 'details') { // Детали преимуществ\n    \n                $popupActive.animate({ top: '100%', opacity: 0 }, 600, function () {\n                    $dialogs.animate({ opacity: 0 }, 400, function () {\n                        $dialogs.find('.popup').removeClass('active').hide();\n                        $popupActive.removeAttr('style');\n                        $dialogs.hide();\n                        removeClassPopup();\n                    });\n                    bodyScroll();\n                });\n    \n            } else if (popupId === 'list') {\n    \n                $popupActive.animate({ bottom: '-100%', opacity: 0 }, 600, function () {\n                    $dialogs.animate({ opacity: 0 }, 300, function () {\n                        $dialogs.find('.popup').removeClass('active').hide();\n                        $popupActive.removeAttr('style');\n                        $dialogs.hide();\n                        removeClassPopup();\n                    });\n                    bodyScroll();\n                });\n    \n            } else { // Остальные окна\n    \n                $popupActive.removeClass('active').hide();\n                $dialogs.animate({ opacity: 0 }, 300, function () {\n                    $dialogs.hide();\n                    $dialogs.find('.thanks-popup').hide();\n                    removeClassPopup();\n                    bodyScroll();\n                });\n            }\n            pauseOtherVideos('.swiper-slide');\n        });\n    try {\n        window.frontpage_work_slider = new Swiper('.our-works__slider', {\n            slidesPerView: 1,\n            spaceBetween: 36,\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev',\n            },\n            breakpoints: {\n                1024: {\n                    slidesPerView: 3,\n                },\n                620: {\n                    slidesPerView: 2,\n                }\n            }\n        })\n    } catch (err) {\n        window.frontpage_work_slider = false;\n        \n    }\n\n    try {\n        window.deffectsSlider = new Swiper('.deffects__slider-mobile', {\n            slidesPerView: 1,\n            spaceBetween: 16,\n            breakpoints: {\n              768: {\n                enabled: false, \n              }\n            }\n          });\n    } catch(err) {\n        window.deffectsSlider = false;\n    }\n\n    $('.faq__question').click(function () {\n        const item = $(this).closest('.faq__item');\n  \n        // Закрыть другие\n        $('.faq__item').not(item).removeClass('active').find('.faq__answer').slideUp();\n  \n        // Переключить текущий\n        item.toggleClass('active');\n        item.find('.faq__answer').slideToggle();\n      });\n\n      $('#current-year').text(new Date().getFullYear());\n\n      var burger = $('.burger');\n      var  slideMenu = $('.header__nav-outer');\n\n    burger.click(function() {\n        burger.toggleClass('open');\n        slideMenu.toggleClass('active');\n    });\n(function () {\n  function getPanelForService(input) {\n    const wrap = input.closest('.switch-wrapper');\n    if (!wrap) return null;\n\n    const key = input.dataset.panelFor || input.name || input.id;\n    if (key) {\n      const direct = wrap.querySelector('.switch-panel[data-panel-for=\"' + key + '\"]');\n      if (direct) return direct;\n    }\n\n    const services = [...wrap.querySelectorAll('.switch-outer .service')];\n    const panels   = [...wrap.querySelectorAll('.switch-panel')];\n    const idx = services.indexOf(input);\n    return idx > -1 ? panels[idx] || null : null;\n  }\n\n  function togglePanel(panel, open) {\n    if (!panel) return;\n    panel.setAttribute('aria-hidden', String(!open));\n    panel.classList.toggle('is-open', open);\n\n    panel.querySelectorAll('input, select, textarea, button').forEach(el => {\n      if (!el.classList.contains('service')) el.disabled = !open;\n      if (!open && (el.type === 'checkbox' || el.type === 'radio')) el.checked = false;\n    });\n\n    if (open) {\n      panel.style.maxHeight = panel.scrollHeight + 'px';\n    } else {\n      panel.style.maxHeight = panel.scrollHeight + 'px';\n      requestAnimationFrame(() => { panel.style.maxHeight = '0px'; });\n    }\n  }\n\n  document.addEventListener('change', function (e) {\n    if (!e.target.matches('.service')) return;\n    const wrap = e.target.closest('.switch-wrapper');\n    const panel = getPanelForService(e.target);\n\n    if (e.target.checked) {\n      // 🔹 Закрываем все остальные в этом .switch-wrapper\n      wrap.querySelectorAll('.switch-panel.is-open').forEach(p => {\n        if (p !== panel) togglePanel(p, false);\n      });\n      // Снимаем чек с других .service\n      wrap.querySelectorAll('.service').forEach(s => {\n        if (s !== e.target) s.checked = false;\n      });\n    }\n\n    togglePanel(panel, e.target.checked);\n  });\n\n  document.querySelectorAll('.service').forEach(input => {\n    const panel = getPanelForService(input);\n    if (!panel) return;\n    if (input.checked) {\n      panel.classList.add('is-open');\n      panel.style.maxHeight = panel.scrollHeight + 'px';\n      panel.setAttribute('aria-hidden', 'false');\n      panel.querySelectorAll('input, select, textarea, button').forEach(el => {\n        if (!el.classList.contains('service')) el.disabled = false;\n      });\n    } else {\n      panel.setAttribute('aria-hidden', 'true');\n      panel.style.maxHeight = '0px';\n    }\n  });\n})();\n\n})"],"names":["jQuery","document","ready","$","window","App","winLocHash","location","hash","$body","on","event","console","log","preventDefault","category","this","attr","$dialogs","$categoryDialogs","find","$flexPopup","popupCategory","slice","localStorage","setItem","css","overflow-y","removeClass","hide","length","show","addClass","animate","opacity","pauseOtherVideos","$popupToOpen","popupId","bodyScroll","removeClassPopup","index","className","match","join","$popupActive","right","removeAttr","getItem","top","bottom","frontpage_work_slider","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","breakpoints","1024","620","err","deffectsSlider","768","enabled","click","item","closest","not","slideUp","toggleClass","slideToggle","text","Date","getFullYear","burger","slideMenu","getPanelForService","input","wrap","key","dataset","panelFor","name","id","direct","querySelector","services","querySelectorAll","panels","idx","indexOf","togglePanel","panel","open","setAttribute","String","classList","toggle","forEach","el","contains","disabled","type","checked","style","maxHeight","scrollHeight","requestAnimationFrame","addEventListener","e","target","matches","p","s","add"],"mappings":"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"}