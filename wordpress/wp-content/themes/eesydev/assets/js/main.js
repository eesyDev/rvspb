jQuery(document).ready(function(l){window.App=window.App||{},App.winLocHash=window.location.hash,App.$body=l("body"),App.$body.on("click touch",".open-dialog, .open-popup, .open-form, .open-modal",function(e){console.log(e),e.preventDefault();var e=l(this).attr("href"),t=l(".dialogs");let i=t.find(e);var o=t.find(".flex-popup"),a=e.slice(1);return"policy"!==a&&localStorage.setItem("popup",a),"list"===a&&(App.$body.css({"overflow-y":"hidden"}),t.css({"overflow-y":"hidden"})),t.find(".popup").removeClass("active").hide(),i.length?(t.find(".popup").removeClass("active").hide(),i.show(),t.show(),o.addClass("popup--"+a),t.animate({opacity:1},300,()=>{i.addClass("active"),App.$body.css({"overflow-y":"hidden"})}),pauseOtherVideos(".video-box")):console.log(`Попап с ID ${e} не найден.`),!1}),l(".dialogs").on("click touch",".close, .close-bg",function(){let e=l(".dialogs"),t=e.find(".flex-popup");var i,o,a=e.find(".popup.active").attr("id");let s=()=>{App.$body.css({"overflow-y":"auto"})},r=()=>{t.removeClass(function(e,t){return(t.match(/popup--\S+/g)||[]).join(" ")})},n=t.find(".popup.active");"cart"===a?n.animate({right:"-100%",opacity:0},600,function(){e.animate({opacity:0},300,function(){e.find(".popup").removeClass("active").hide(),n.removeAttr("style"),e.hide(),e.find(".thanks-popup").hide(),r()}),s()}):"policy"===a?(n.removeClass("active").hide(),i=localStorage.getItem("popup"),(o=l(".dialogs #"+i)).length?(o.addClass("active").show(),e.show()):console.log("Попап с ID "+i+" не найден.")):"details"===a?n.animate({top:"100%",opacity:0},600,function(){e.animate({opacity:0},400,function(){e.find(".popup").removeClass("active").hide(),n.removeAttr("style"),e.hide(),r()}),s()}):"list"===a?n.animate({bottom:"-100%",opacity:0},600,function(){e.animate({opacity:0},300,function(){e.find(".popup").removeClass("active").hide(),n.removeAttr("style"),e.hide(),r()}),s()}):(n.removeClass("active").hide(),e.animate({opacity:0},300,function(){e.hide(),e.find(".thanks-popup").hide(),r(),s()})),pauseOtherVideos(".swiper-slide")});try{window.frontpage_work_slider=new Swiper(".our-works__slider",{slidesPerView:1,spaceBetween:36,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:3},620:{slidesPerView:2}}})}catch(e){window.frontpage_work_slider=!1}try{window.deffectsSlider=new Swiper(".deffects__slider-mobile",{slidesPerView:1,spaceBetween:16,breakpoints:{768:{enabled:!1}}})}catch(e){window.deffectsSlider=!1}l(".faq__question").click(function(){var e=l(this).closest(".faq__item");l(".faq__item").not(e).removeClass("active").find(".faq__answer").slideUp(),e.toggleClass("active"),e.find(".faq__answer").slideToggle()}),l("#current-year").text((new Date).getFullYear());var e=l(".burger"),t=l(".header__nav-outer");function o(e){var t=e.closest(".switch-wrapper");if(!t)return null;var i=e.dataset.panelFor||e.name||e.id;if(i){i=t.querySelector('.switch-panel[data-panel-for="'+i+'"]');if(i)return i}i=[...t.querySelectorAll(".switch-outer .service")],t=[...t.querySelectorAll(".switch-panel")],i=i.indexOf(e);return-1<i&&t[i]||null}function a(e,t){e&&(e.setAttribute("aria-hidden",String(!t)),e.classList.toggle("is-open",t),e.querySelectorAll("input, select, textarea, button").forEach(e=>{e.classList.contains("service")||(e.disabled=!t),t||"checkbox"!==e.type&&"radio"!==e.type||(e.checked=!1)}),t?e.style.maxHeight=e.scrollHeight+"px":(e.style.maxHeight=e.scrollHeight+"px",requestAnimationFrame(()=>{e.style.maxHeight="0px"})))}e.click(function(){e.toggleClass("open"),t.toggleClass("active")}),document.addEventListener("change",function(i){if(i.target.matches(".service")){var e=i.target.closest(".switch-wrapper");let t=o(i.target);i.target.checked&&(e.querySelectorAll(".switch-panel.is-open").forEach(e=>{e!==t&&a(e,!1)}),e.querySelectorAll(".service").forEach(e=>{e!==i.target&&(e.checked=!1)})),a(t,i.target.checked)}}),document.querySelectorAll(".service").forEach(e=>{var t=o(e);t&&(e.checked?(t.classList.add("is-open"),t.style.maxHeight=t.scrollHeight+"px",t.setAttribute("aria-hidden","false"),t.querySelectorAll("input, select, textarea, button").forEach(e=>{e.classList.contains("service")||(e.disabled=!1)})):(t.setAttribute("aria-hidden","true"),t.style.maxHeight="0px"))})});
//# sourceMappingURL=main.js.map
